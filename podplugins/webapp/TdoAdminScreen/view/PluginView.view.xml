<mvc:View controllerName="rose.ext.podplugins.TdoAdminScreen.controller.PluginView"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:filterbar="sap.ui.comp.filterbar"
    xmlns:core="sap.ui.core"
    xmlns:f="sap.f"
    xmlns="sap.m" width="100%" height="100%">
    <f:DynamicPage id="idMassOpAsmtPage" showFooter="true">
        <f:header>
            <f:DynamicPageHeader class="header" id="idMassOpAsmtDynHeader">
                <filterbar:FilterBar id="idFilterBar" useToolbar="false" search=".onFBSearch">
                    <filterbar:filterGroupItems id="idFilterGroupItems">

                        <!-- Order Input Field -->
                        <filterbar:FilterGroupItem id="idOrderSearch" name="Order" label="Order" groupName="Group1" mandatory="true" visibleInFilterBar="true">
                            <filterbar:control>
                                <Input id="idOrderFilterInput" required="true" change=".onOrderInputChange"/>
                            </filterbar:control>
                        </filterbar:FilterGroupItem>

                        <!-- SFC Dropdown -->
                        <filterbar:FilterGroupItem id="idSFCList" name="SFC" label="SFC" groupName="Group1" mandatory="true" visibleInFilterBar="true">
                            <filterbar:control>
                                <Select id="idSFCSelect" items="{orderData>/sfcs}" selectedKey="{viewModel>/selectedSFC}" change=".onSFCSelectionChange">
                                    <core:Item key="{orderData>}" text="{orderData>}"/>
                                </Select>
                            </filterbar:control>
                        </filterbar:FilterGroupItem>


                        <!-- Material (Plain Text) -->
                        <filterbar:FilterGroupItem id="idMaterial" name="Material" label="Material" groupName="Group1" visibleInFilterBar="true">
                            <filterbar:control>
                                <Text id="idMaterialText" text="{viewModel>/selectedMaterial}"/>
                            </filterbar:control>
                        </filterbar:FilterGroupItem>

                        <!-- Material Description (Plain Text) -->
                        <filterbar:FilterGroupItem id="idMaterialDescription" name="Description" label="Material Description" groupName="Group1" visibleInFilterBar="true">
                            <filterbar:control>
                                <Text id="idMaterialDescriptionText" text="{viewModel>/selectedMaterialDesc}"/>
                            </filterbar:control>
                        </filterbar:FilterGroupItem>
                    </filterbar:filterGroupItems>
                </filterbar:FilterBar>
            </f:DynamicPageHeader>
        </f:header>

        <f:content>
            <ScrollContainer width="100%" horizontal="true" vertical="true">
                <Table id="myTable" items="{/tableData}" width="100%" growing="true" growingScrollToLoad="true">

                    <columns>
                        <Column width="8rem">
                            <Text text="Work Center"/>
                        </Column>
                        <Column width="8rem">
                            <Text text="Phase ID"/>
                        </Column>
                        <Column width="10rem">
                            <Text text="Component Description"/>
                        </Column>
                        <Column width="8rem">
                            <Text text="Component"/>
                        </Column>
                        <Column width="10rem">
                            <Text text="Operator"/>
                        </Column>
                        <Column width="6rem">
                            <Text text="Target"/>
                        </Column>
                        <Column width="8rem">
                            <Text text="Upper Tolerance"/>
                        </Column>
                        <Column width="8rem">
                            <Text text="Lower Tolerance"/>
                        </Column>
                        <Column width="8rem">
                            <Text text="Upper Mean Guard"/>
                        </Column>
                        <Column width="8rem">
                            <Text text="Lower Mean Guard"/>
                        </Column>
                        <Column width="10rem">
                            <Text text="Consecutive Failures Threshold"/>
                        </Column>
                        <Column width="18rem">
                            <Text text="Cumulative Failures Threshold"/>
                        </Column>
                        <Column width="10rem">
                            <Text text="TDO Adjustment Cycle"/>
                        </Column>
                    </columns>

                    <items>
                        <ColumnListItem>
                            <cells>
                                <Text text="{workCenter}"/>
                                <Text text="{phaseId}"/>
                                <Text text="{componentDescription}"/>
                                <Text text="{component}"/>
                                <Text text="{operator}"/>
                                <Text text="{target}"/>
                                <Text text="{upperTolerance}"/>
                                <Text text="{lowerTolerance}"/>
                                <Text text="{upperMeanGuard}"/>
                                <Text text="{lowerMeanGuard}"/>
                                <Text text="{consecutiveFailures}"/>
                                <HBox>
                                    <Text text="{target}" class="sapUiSmallMarginEnd"/>
                                    <Text text="out of" class="sapUiSmallMarginEnd"/>
                                    <Text text="{lowerTolerance}"/>
                                </HBox>
                                <Text text="{tdoCycle}"/>
                            </cells>
                        </ColumnListItem>
                    </items>
                </Table>

            </ScrollContainer>
        </f:content>
        <f:footer>
            <Toolbar id="idMassOpAsmtFooter" visible="{viewModel>/isFiltersApplied}">
                <ToolbarSpacer />
                <Button text="Assign" type="Emphasized" press=".onSaveAssignmentsPress"/>
                <ToolbarSpacer width="10px"/>
                <Button text="Cancel" type="Reject" press=".onCancelAssignmentsPress"/>
            </Toolbar>
        </f:footer>
    </f:DynamicPage>
</mvc:View>